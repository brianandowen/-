# 系統名稱：系學會成員與活動管理系統  
**版本**：1.0  
**作者**：輔大資管學系 二甲 陳庭毅  
**專案類型**：期末專案  

---

## 目錄  
1. [專案介紹](#專案介紹)  
2. [功能說明](#功能說明)  
    - [成員管理](#1-成員管理)  
    - [活動管理](#2-活動管理)  
    - [個別成員活動統計](#3-個別成員活動統計)  
3. [系統需求](#系統需求)  
4. [安裝與設置](#安裝與設置)  
5. [資料庫設計](#資料庫設計)  
6. [系統操作流程](#系統操作流程)  
7. [注意事項](#注意事項)  

---

## 專案介紹  

本系統是一個針對系學會設計的成員與活動管理系統，主要目的是幫助系學會管理成員資料、追蹤活動參加情況以及統計成員的活躍度。系統包含完善的成員管理、活動紀錄及角色分配功能，並支援管理員進行數據的新增、刪除與編輯操作。

---

## 功能說明  

### 1. 成員管理  

#### 功能概述  
管理系統中的所有成員資料，包括新增成員、查詢成員、編輯成員資料以及刪除成員。  

#### 使用方式  
1. **進入成員管理頁面**：  
   - 登入系統後，點擊導覽列的「成員管理」選項，跳轉至 `query.php` 頁面。

2. **查詢成員**：  
   - 使用搜尋欄輸入關鍵字，如姓名、學號、入學年份或職位，篩選符合條件的成員列表。
   - 點擊「搜尋」按鈕後，系統會返回符合條件的成員資料。

3. **新增成員**：  
   - 點擊「新增成員」按鈕跳轉至 `insert.php` 頁面。
   - 輸入成員資料，包括姓名、學號、入學年份及職位（會員或幹部）。
   - 點擊「提交」按鈕完成新增，系統會顯示新增成功的訊息並返回成員列表。

4. **編輯成員**：  
   - 在成員列表中找到目標成員，點擊「修改」按鈕跳轉至編輯頁面。
   - 修改成員資訊後，點擊「保存變更」提交。

5. **刪除成員**：  
   - 點擊對應成員的「刪除」按鈕，系統會提示是否確認刪除。
   - 若成員已參與活動，系統將自動刪除其活動記錄。
   - 確認後，該成員將從資料庫中刪除。

---

### 2. 活動管理  

#### 功能概述  
管理系統中的所有活動紀錄，包括新增活動、查詢活動、編輯活動以及刪除活動。

#### 使用方式  
1. **進入活動管理頁面**：  
   - 登入系統後，點擊導覽列的「活動管理」選項，跳轉至 `activities.php` 頁面。

2. **查看活動總覽**：  
   - 總覽表格列出所有成員的活動紀錄，包括姓名、學號、活動名稱、角色及活動日期。

3. **新增活動**：  
   - 點擊「新增活動紀錄」按鈕，在彈出的模態框中填寫活動資訊，包括：
     - 選擇參與成員。
     - 輸入活動名稱（如「迎新宿營」）。
     - 選擇角色（會員或幹部）。
     - 填寫活動日期。
   - 點擊「新增活動紀錄」按鈕完成操作。

4. **編輯活動**：  
   - 在活動總覽中，找到目標活動，點擊「編輯」按鈕。
   - 在彈出的模態框中修改活動資訊，然後點擊「保存變更」。

5. **刪除活動**：  
   - 點擊目標活動的「刪除」按鈕，系統會提示是否確認刪除。
   - 確認後，該活動將從資料庫中刪除。

---

### 3. 個別成員活動統計  

#### 功能概述  
針對特定成員，查看其參與的所有活動及累積活動次數。

#### 使用方式  
1. **選擇成員**：  
   - 在活動管理頁面的「選擇成員」下拉選單中，選擇特定成員。
   - 系統會自動載入該成員的活動記錄及累積活動次數。

2. **查看活動記錄**：  
   - 系統顯示該成員的參與活動列表，包括活動名稱、角色及日期。

---

## 系統需求  

1. **伺服器需求**：  
   - PHP 7.4 或更新版本  
   - MySQL 5.7 或更新版本  
   - Apache 或其他支援 PHP 的網頁伺服器  

2. **瀏覽器**：  
   - Google Chrome、Mozilla Firefox 或其他現代瀏覽器  

---

## 安裝與設置  

1. **下載專案檔案**：  
   - 從專案來源下載 `.zip` 壓縮檔案，並解壓縮到伺服器目錄。  

2. **導入資料庫**：  
   - 登入 MySQL，創建資料庫（如 `department_management`）。
   - 將專案附帶的 `database.sql` 匯入資料庫。

3. **配置資料庫連線**：  
   - 編輯 `db.php`，填寫正確的資料庫主機、帳號、密碼及資料庫名稱。

4. **啟動伺服器**：  
   - 啟動 Apache 和 MySQL 服務，訪問專案根目錄以測試系統是否正常運行。

---

## 資料庫設計  

### 主要資料表  

#### 1. `members` 表  
- **欄位**：  
  - `id`：自動遞增的主鍵  
  - `name`：成員姓名  
  - `student_id`：學號（唯一）  
  - `enrollment_year`：入學年份  
  - `position`：職位（會員或幹部）  

#### 2. `activity_logs` 表  
- **欄位**：  
  - `id`：自動遞增的主鍵  
  - `member_id`：成員外鍵，連結 `members` 表  
  - `activity_name`：活動名稱  
  - `role`：角色（會員或幹部）  
  - `activity_date`：活動日期  

---

## 系統操作流程  

以下是詳細的使用說明，適用於您的期末專案：

---

## 使用說明

### 系統登入

1. **訪問登入頁面**：
   - 啟動伺服器後，在瀏覽器中訪問系統，例如：`http://localhost/<專案目錄>/login.php`。
   
2. **輸入登入資訊**：
   - 使用管理員帳號（預設角色為「M」）登入系統。
   - 如果沒有預設帳號，請手動在資料庫中新增一筆管理員資料。

---

### 功能詳細說明

#### 1. **成員管理**

- **進入成員查詢頁面**：
  - 點擊系統導覽列的「成員管理」或直接訪問 `query.php`。

- **查看成員列表**：
  - 成員列表顯示所有成員的基本資訊，包括：
    - `姓名`：成員的全名。
    - `學號`：成員的唯一學號。
    - `入學年份`：成員的入學年份。
    - `職位`：如「會員」或「幹部」。
  - 頁面支持分頁（如已實現）以處理大規模資料。

- **搜尋成員**：
  - 使用搜尋欄位輸入特定條件，如姓名、學號、入學年份或職位，然後點擊「搜尋」按鈕，系統將根據條件篩選成員列表。

- **新增成員**：
  1. 點擊「新增成員」按鈕跳轉至新增頁面 `insert.php`。
  2. 填寫以下欄位：
     - 姓名（必填）。
     - 學號（必填，唯一）。
     - 入學年份（必填）。
     - 職位（選擇「會員」或「幹部」）。
  3. 點擊「提交」按鈕完成新增。
  4. 新增後，系統會自動返回成員列表頁面。

- **編輯成員**：
  1. 在成員列表中，找到需要編輯的成員，點擊對應的「修改」按鈕。
  2. 修改成員資訊，並點擊「保存變更」。
  3. 編輯完成後，系統將顯示成功訊息並返回成員列表。

- **刪除成員**：
  1. 在成員列表中，點擊對應成員的「刪除」按鈕。
  2. 系統會跳出確認訊息，確保操作安全。
  3. 如果該成員已參與活動，系統會自動刪除該成員的所有活動記錄。
  4. 刪除完成後，系統將顯示成功訊息。

---

#### 2. **活動管理**

- **進入活動管理頁面**：
  - 點擊系統導覽列的「活動管理」或直接訪問 `activities.php`。

- **查看活動總覽**：
  - 總覽表格顯示所有成員的活動記錄，包括：
    - `姓名`：參加活動的成員姓名。
    - `學號`：參加活動的成員學號。
    - `活動名稱`：該成員參加的活動名稱。
    - `角色`：成員在活動中的角色（如「會員」或「幹部」）。
    - `活動日期`：活動的具體日期。

- **新增活動記錄**：
  1. 點擊右上角的「新增活動紀錄」按鈕。
  2. 在彈出的新增模態框中，選擇成員姓名，並填寫以下內容：
     - 活動名稱（如「迎新宿營」）。
     - 角色（選擇「會員」或「幹部」）。
     - 活動日期。
  3. 點擊「新增活動紀錄」完成新增。

- **編輯活動記錄**：
  1. 在活動總覽表格中，找到需要編輯的活動，點擊對應的「編輯」按鈕。
  2. 在彈出的編輯模態框中，修改活動名稱、角色或活動日期。
  3. 點擊「保存變更」完成編輯。

- **刪除活動記錄**：
  1. 在活動總覽表格中，找到需要刪除的活動，點擊對應的「刪除」按鈕。
  2. 系統會跳出確認訊息，確保操作安全。
  3. 刪除完成後，系統將顯示成功訊息。

---

#### 3. **個別成員活動統計**

- **選擇成員**：
  1. 在「活動管理」頁面中，使用「選擇成員」下拉選單選取特定成員。
  2. 選定後，系統將自動載入該成員的活動記錄，包括：
     - 參加的所有活動名稱。
     - 活動角色。
     - 活動日期。
  3. 在記錄下方顯示該成員的「累積活動參加場次數」。

---

#### 4. **使用者角色管理**

- **管理員角色**：
  - 僅管理員（角色為「M」）可訪問所有功能，包括成員管理與活動管理。

- **一般使用者**：
  - 系統中未定義一般使用者的功能訪問權限（如有需求，請擴充 Session 驗證邏輯）。

---

### 系統限制

1. 系統需確保成員的學號唯一性。
2. 刪除成員時，將同步刪除該成員的所有活動記錄。
3. 活動記錄中的角色限定為「會員」與「幹部」，可根據需求擴充。

---

## 注意事項

- 請確保伺服器開啟 `session_start` 功能，用於驗證登入狀態。
- 若使用者無法執行刪除或新增操作，請確認資料庫設置是否包含外鍵限制，並啟用 `ON DELETE CASCADE`。
- 系統支援多角色管理（如需增加其他角色，需更新 `session.php` 及前端邏輯）。

---

如需進一步調整或協助，請告知！

---

## 注意事項  

1. **刪除成員時，將同步刪除該成員的所有活動紀錄**。  
2. **資料庫設計需包含外鍵約束，確保資料關聯性完整**。  
3. **系統支援多角色管理，預設管理員角色為「M」**。  

---

若有其他問題，請聯繫開發者或提供建議。